<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"     "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pd.ai.dao.ISystemMenuDao">
	<select id="queryList" resultType="com.pd.ai.model.SystemMenuDTO">
select 
		<include refid='cols$select'/>
from sys_Menu_t
where 1=1
		<choose>
			<when test="parentId==null"> and parent_id is null or parent_id=''</when>
			<otherwise> and parent_id =#{parentId}</otherwise>
		</choose> 
order by index_id
	</select>
	
	<update id="us">
		replace into sys_lookupitem_t(type_id,id,cn,en,value)
		values
		<foreach item="it" collection="list" separator=",">
			(
			'moduleCfg.economicRate',
			#{it.id},
			#{it.cn},
			#{it.en},
			#{it.value}
			)
		</foreach>

	</update>

	<delete id="ds">
		delete from sys_lookupitem_t
		where (type_id,id) in(
		<foreach item="it" collection="list" separator=",">
			('moduleCfg.economicRate',${it.id})
		</foreach>
		)
	</delete>
	
	<sql id="cols$select">
id as "id",
parent_id as "parentId",
parent_id as "pid",
cn as
"cn",
en as "en",
cn as "text",
index_id as "indexId",
url as "url",
detail as "detail"
	</sql>
	
</mapper>  