<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"     "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pd.it.module.economic.detail.IEconomicDetailDao">

	<select id="rs" parameterType="VO" resultType="VO">
select event_date as "eventDate",
	title as "title",
	detail as "detail",
	income as "income",
	output as "output"
from app_economic_t t1
		<include refid="rs$filter"/>
order by event_date
	</select>

	<update id="us">
replace into economic_detail_t(
	flow_id,
	year,
	month,
	day,
	person,
	event_type,
	event_class,
	qty,
	detail
)
values
		<foreach item="it" index="index" collection="list" 
			separator=",">
	(
		#{it.flowId},
		#{it.year,jdbcType=NUMERIC},
		#{it.month,jdbcType=NUMERIC},
		#{it.day,jdbcType=NUMERIC},
		#{it.person},
		#{it.eventType},
		#{it.eventClass},
		#{it.qty},
		#{it.detail}
	)
		</foreach>

	</update>
	<delete id="ds">
delete from economic_detail_t
where (flow_id) in(
		<foreach item="it" collection="list" 
			separator=",">
	(${it.flowId})
		</foreach>
)
	</delete>
	<sql id="rs$filter">
		<where>
		</where>
	</sql>
</mapper>  