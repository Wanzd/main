<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"     "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pd.it.module.menu.IMenuTreeDao">

	<sql id="sql$ra">
SELECT id as "id",
    parent_id as "parentId",
    parent_id as "pid",
    cn as "cn",
    en as "en",
    cn as "text",
    index_id as "indexId",
    url as "url",
    detail as "detail"
FROM sys_Menu_t
		<where>
			<choose >
				<when test="id==null">
			parent_id is null or parent_id=''
				</when>
				<otherwise>
			parent_id =#{id}
				</otherwise>
			</choose>
			and is_active='Y'
		</where>
		order by index_id
	</sql>
	
	<select id="ra" parameterType="VO" resultType="VO">
		<include refid="sql$ra"/>
	</select>
	<select id="rs" parameterType="VO" resultType="VO">
		<include refid="sql$ra"/>
	</select>

	<update id="us">
replace into sys_lookupitem_t(type_id,id,cn,en,value)
values
		<foreach item="it" collection="list" 
			separator=",">
( 	'moduleCfg.economicRate',
	#{it.id},
	#{it.cn},
	#{it.en},
	#{it.value}
)
		</foreach>

	</update>
	
	<delete id="ds">
delete from sys_lookupitem_t
where (type_id,id) in(
		<foreach item="it" collection="list" 
			separator=",">
	('moduleCfg.economicRate',${it.id})
		</foreach>
)
	</delete>
	
</mapper>  